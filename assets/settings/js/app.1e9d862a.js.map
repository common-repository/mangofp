{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/MangoFpProcessSteps.vue?e542","webpack:///./src/components/MangoFpEditProcess.vue?cbf7","webpack:///./src/components/MangoFpParameters.vue?818e","webpack:///./src/components/MangoFpEditStepDetails.vue?273f","webpack:///./src/components/MangoFpSettingsMain.vue?dee4","webpack:///./src/types/index.ts","webpack:///./src/App.vue?3907","webpack:///./src/components/MangoFpSettingsMain.vue?ea75","webpack:///./src/utilities/index.ts","webpack:///./src/actions/index.ts","webpack:///./src/components/MangoFpProcessSteps.vue?990e","webpack:///./src/components/MangoFpEditStep.vue?31e1","webpack:///./src/components/MangoFpEditStep.vue","webpack:///./src/components/MangoFpEditStep.vue?9e3a","webpack:///./src/components/MangoFpEditStep.vue?928e","webpack:///./src/components/MangoFpEditStepDetails.vue?bff0","webpack:///./src/components/MangoFpEditProcess.vue?61f0","webpack:///./src/components/MangoFpEditProcess.vue","webpack:///./src/components/MangoFpEditProcess.vue?e538","webpack:///./src/components/MangoFpEditProcess.vue?4070","webpack:///./src/components/MangoFpEditEmailTemplate.vue?65a2","webpack:///./src/components/MangoFpEditEmailTemplate.vue","webpack:///./src/components/MangoFpEditEmailTemplate.vue?92c8","webpack:///./src/components/MangoFpEditEmailTemplate.vue?bcef","webpack:///./src/components/MangoFpEditStepDetails.vue","webpack:///./src/components/MangoFpEditStepDetails.vue?1fc3","webpack:///./src/components/MangoFpEditStepDetails.vue?02c2","webpack:///./src/components/MangoFpProcessSteps.vue","webpack:///./src/components/MangoFpProcessSteps.vue?cc14","webpack:///./src/components/MangoFpProcessSteps.vue?8b00","webpack:///./src/components/MangoFpParameters.vue?83c8","webpack:///./src/components/MangoFpParameters.vue","webpack:///./src/components/MangoFpParameters.vue?5c0f","webpack:///./src/components/MangoFpParameters.vue?7992","webpack:///./src/components/MangoFpSettingsMain.vue","webpack:///./src/components/MangoFpSettingsMain.vue?97a0","webpack:///./src/components/MangoFpSettingsMain.vue?17cb","webpack:///src/App.vue","webpack:///./src/App.vue?3359","webpack:///./src/App.vue","webpack:///./src/plugins/vuetify.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts","webpack:///./src/components/MangoFpEditEmailTemplate.vue?7812","webpack:///./src/components/MangoFpEditStep.vue?d228","webpack:///./src/styles/global.css?4e90"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","ParameterType","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticRenderFns","_v","_s","locStr","model","globalState","generalAlert","callback","$$v","$set","expression","alertMessage","timeout","scopedSlots","_u","fn","ref","_b","on","$event","generalMessage","showAlert","doOnChange","makeTemplateObj","stateCode","template","addresses","mainAddresses","loaded","MANGOFP_RESOURCES","strings","validateEmail","email","RegValidate","test","ROOT_URL","MANGOFP_NONCE","__makeGetRequest","endpoint","config","headers","a","res","status","Error","payload","__makePostRequest","properties","post","reloadAllSteps","steps","dataStore","resetState","keys","aStep","step","code","addState","getAllStates","catch","err","setGeneralAlert","message","response","_processOptionsResponseToStore","options","label","setOption","getAllOptions","addNewState","action","state","updateState","next","setInfoSaving","console","log","reOrderState","order","updateOrder","loadTemplate","updateOrInsertEmailTemplate","markTemplateAsLoaded","updateTemplate","templateText","emails","mainEmails","templateParams","primaryEmails","setTemplateSaving","updateOptions","params","storableData","map","option","setGeneralMessage","clearGeneralMessage","_l","stopPropagation","openDeleteConfirm","orderStepUp","orderStepDown","closeStepEdit","addStepEdit","_e","openStepAdd","delDialogOpen","delConfirmCode","closeDialogConfirm","deleteStep","action4Edit","state4Edit","saveData","cancelSaving","showLoader","absolute","extend","props","type","String","Boolean","code4Edit","mounted","focusedEdit","$refs","stateField","codeField","focus","methods","$emit","toUpperCase","component","VBtn","VCard","VCardActions","VCardText","VOverlay","VProgressCircular","VTextField","savingInfo","closeInfoPane","updateInfoEdit","nextStepsNames","possibleNextStates","saveInProgress","closeStepsPane","saveStepsData","savingTemplate","saveTemplate","closeTemplatePane","elem","text","next4Edit","required","allStates","Array","VSwitch","mainAddressesAreValid","mainAddressesValidationError","mainAddressesAsString","addressesAreValid","addressesValidationError","addressesAsString","editorToolbar","email4Edit","cancelTemplate","components","VueEditor","header","align","list","indent","color","background","getAddressesAsString","watch","join","stringAsAddresses","addressesString","split","e","trim","resetErrors","validateAndGetEmailAddresses","specials","includes","filter","addresses4Edit","mainAddresses4Edit","MangoFpEditProcess","MangoFpEditStep","MangoFpEditEmailTemplate","states","getStateList","tempShow","paramCode","loadedStates","forEach","stepCodes","undefined","thePanel","nextStepsPanel","toggle","templatePanel","infoPanel","param","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","MangoFpEditStepDetails","newStepModifyOpen","stateList","isItDone","VCardTitle","VCol","VContainer","VDialog","VRow","VSheet","VSpacer","VTimeline","VTimelineItem","onFocus","errorMsg","validateEmailElem","clearEmailElemErrorMsg","domProps","hint","confirmDisabled","saveParameters","data4Edit","parameters","getNewParam4Edit","notValidParam","find","changedParams","emailParam","MangoFpProcessSteps","MangoFpParameters","loading","VAlert","VIcon","VSnackbar","VTab","VTabItem","VTabs","VApp","VMain","use","makeStore","debug","clearGeneralAlert","stateData","savingSteps","updateNextState","nextStates","obj","emailTemplate","stepTemplate","_findStep","_findOption","optionParam","optionRet","updateOrInsertStateInfo","newStep","getAllState","getParameters","toSwapOrder","swapStep","deleteState","productionTip","bus","vuetify","render","h","App","$mount"],"mappings":"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","file":"js/app.1e9d862a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpProcessSteps.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpProcessSteps.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpEditProcess.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpEditProcess.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpParameters.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpParameters.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpEditStepDetails.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpEditStepDetails.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpSettingsMain.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpSettingsMain.vue?vue&type=style&index=0&lang=css&\"","export interface NextState {\n    value: string;\n    text: string;\n}\n\nexport interface EmailTemplate {\n    mainAddresses: string[];\n    addresses: string[];\n    template: string;\n    stateCode: string;\n    loaded: boolean;\n}\n\nexport function makeTemplateObj(\n    stateCode = \"\",\n    template = \"\",\n    addresses: string[] = [],\n    mainAddresses: string[] = [\"[contactEmail]\"],\n    loaded = false,\n): EmailTemplate {\n    return { stateCode, mainAddresses, addresses, template, loaded };\n}\n\nexport interface StateData {\n    order: number;\n    code: string;\n    state: string;\n    action: string;\n    next: string[];\n    template: EmailTemplate;\n    savingInfo: boolean;\n    savingTemplate: boolean;\n}\n\nexport enum ParameterType {\n    text = \"TEXT\",\n    email = \"EMAIL\",\n    boolean = \"BOOL\",\n    select = \"SELECT\",\n}\n\nexport interface Parameter {\n    label: string;\n    type: ParameterType;\n    name: string;\n    value: string;\n    hint?: string;\n    errorMsg?: string;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('v-app',{staticClass:\"main\"},[_c('v-main',[_c('v-container',{staticClass:\"pa-0\",attrs:{\"fluid\":\"\"}},[_c('MangoFpSettingsMain')],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"fill-height px-0 py-5 ml-0\"},[(_vm.loading)?_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}}):_c('v-row',[_c('v-col',[_c('h1',[_vm._v(_vm._s(_vm.locStr(\"MangoFp settings\")))]),_c('v-alert',{attrs:{\"dismissible\":\"\",\"outlined\":\"\",\"type\":\"warning\",\"border\":\"left\"},model:{value:(_vm.globalState.generalAlert.showAlert),callback:function ($$v) {_vm.$set(_vm.globalState.generalAlert, \"showAlert\", $$v)},expression:\"globalState.generalAlert.showAlert\"}},[_vm._v(\" \"+_vm._s(_vm.globalState.generalAlert.alertMessage)+\" \")]),_c('v-snackbar',{attrs:{\"dismissible\":\"\",\"absolute\":\"\",\"centered\":\"\",\"color\":\"primary\",\"top\":\"\",\"timeout\":_vm.timeout,\"text\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"color\":\"white\",\"icon\":\"\"},on:{\"click\":function($event){_vm.globalState.generalMessage.showAlert = false}}},'v-btn',attrs,false),[_c('v-icon',[_vm._v(\"mdi-close\")])],1)]}}]),model:{value:(_vm.globalState.generalMessage.showAlert),callback:function ($$v) {_vm.$set(_vm.globalState.generalMessage, \"showAlert\", $$v)},expression:\"globalState.generalMessage.showAlert\"}},[_vm._v(\" \"+_vm._s(_vm.globalState.generalMessage.alertMessage)+\" \")]),_c('v-tabs',{staticClass:\"settings-main-tabs\",on:{\"change\":_vm.doOnChange}},[_c('v-tab',[_vm._v(_vm._s(_vm.locStr(\"Define process steps\")))]),_c('v-tab',[_vm._v(_vm._s(_vm.locStr(\"Parameters\")))]),_c('v-tab-item',{attrs:{\"transition\":\"false\",\"reverse-transition\":\"false\"}},[_c('MangoFpProcessSteps')],1),_c('v-tab-item',{attrs:{\"transition\":\"false\",\"reverse-transition\":\"false\"}},[_c('MangoFpParameters')],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function locStr(key: string): string {\n    // eslint-disable-next-line\n    const MANGOFP_RESOURCES = (window as any).MANGOFP_RESOURCES;\n    if (\n        !MANGOFP_RESOURCES ||\n        !MANGOFP_RESOURCES.strings ||\n        !MANGOFP_RESOURCES.strings[key]\n    ) {\n        return key;\n    }\n    return MANGOFP_RESOURCES.strings[key];\n}\n\nfunction validateEmail(email: string): boolean {\n    if (!email) {\n        return true;\n    }\n    const RegValidate = /([a-zA-Z0-9+._-]+@[a-zA-Z0-9._-]+\\.[a-zA-Z0-9_-]+)/;\n    return RegValidate.test(email);\n}\n\nexport { locStr, validateEmail };\n","import { dataStore } from \"@/main\";\nimport axios from \"axios\";\nimport { makeTemplateObj, StateData, Parameter } from \"@/types\";\nimport { locStr } from \"@/utilities\";\n\n// eslint-disable-next-line\nconst MANGOFP_RESOURCES = (window as any).MANGOFP_RESOURCES;\nconst ROOT_URL = MANGOFP_RESOURCES[\"adminUrl\"];\nconst MANGOFP_NONCE = MANGOFP_RESOURCES[\"nonce\"];\n\ninterface StepsMetadata {\n    [key: string]: StateData;\n}\ninterface PostRequest {\n    code?: string;\n    action?: string;\n    state?: string;\n    next?: string[];\n}\ninterface TemplateRequest {\n    code: string;\n    templateText: string;\n    emails: string[];\n    primaryEmails: string[];\n}\n\ninterface OptionsRequest {\n    options: { key: string; value: string }[];\n}\n\nasync function __makeGetRequest(endpoint: string) {\n    const config = {\n        headers: {\n            \"X-WP-Nonce\": MANGOFP_NONCE,\n        },\n    };\n    const res = await axios.get(ROOT_URL + endpoint, config);\n    if (!res || res.status !== 200) {\n        throw new Error(\"Unable to read data from \" + endpoint);\n    }\n\n    if (\n        !(\"status\" in res.data) ||\n        res.data.status !== \"RESULT_SUCCESS\" ||\n        !(\"payload\" in res.data)\n    ) {\n        throw new Error(\"Could not read response status\");\n    }\n\n    return res.data.payload;\n}\n\nasync function __makePostRequest(\n    endpoint: string,\n    properties: PostRequest | TemplateRequest | OptionsRequest,\n) {\n    const config = {\n        headers: {\n            \"X-WP-Nonce\": MANGOFP_NONCE,\n        },\n    };\n    const res = await axios.post(ROOT_URL + endpoint, properties, config);\n    if (!res || res.status !== 200) {\n        throw new Error(\"Error received from request. Details: \" + endpoint);\n    }\n\n    if (\n        !(\"status\" in res.data) ||\n        res.data.status !== \"RESULT_SUCCESS\" ||\n        !(\"payload\" in res.data)\n    ) {\n        throw new Error(\"Could not read response status\");\n    }\n\n    return res.data.payload;\n}\n\nasync function reloadAllSteps(steps: StepsMetadata) {\n    dataStore.resetState();\n    for (const aStep of Object.keys(steps)) {\n        const step = steps[aStep];\n        step.template = makeTemplateObj(step.code);\n        await dataStore.addState(step);\n    }\n    return true;\n}\n\nexport async function getAllStates() {\n    const response = await __makeGetRequest(\"/steps\").catch(err => {\n        dataStore.setGeneralAlert(\n            locStr(\"Unable to fetch all states: \" + err.message),\n        );\n        return false;\n    });\n\n    if (!response.steps) {\n        dataStore.setGeneralAlert(\n            locStr(\"No steps in response while getting all states\"),\n        );\n        return false;\n    }\n\n    return await reloadAllSteps(response.steps);\n}\n\nfunction _processOptionsResponseToStore(options: Parameter[]) {\n    for (const label in options) {\n        dataStore.setOption(options[label]);\n    }\n    return true;\n}\n\nexport async function getAllOptions(): Promise<boolean> {\n    const response = await __makeGetRequest(\"/option\").catch(err => {\n        dataStore.setGeneralAlert(\n            locStr(\"Unable to fetch options: \" + err.message),\n        );\n        return false;\n    });\n\n    if (!response.options) {\n        dataStore.setGeneralAlert(\n            locStr(\"No options in response while getting options\"),\n        );\n        return false;\n    }\n\n    return _processOptionsResponseToStore(response.options);\n}\n\nexport async function addNewState(\n    action: string,\n    state: string,\n): Promise<boolean> {\n    const response = await __makePostRequest(\"/steps\", { action, state }).catch(\n        err => {\n            dataStore.setGeneralAlert(\n                locStr(\"Failed to add new step: \" + err.message),\n            );\n            return false;\n        },\n    );\n\n    if (!response.steps) {\n        dataStore.setGeneralAlert(\n            locStr(\"No steps in response when loading new state\"),\n        );\n        return false;\n    }\n\n    return await reloadAllSteps(response.steps);\n}\n\nexport async function updateState(\n    code: string,\n    action: string | undefined,\n    state: string | undefined,\n    next: string[] | undefined,\n): Promise<boolean> {\n    dataStore.setInfoSaving(code, true);\n\n    const response = await __makePostRequest(\"/steps/\" + code, {\n        action,\n        state,\n        next,\n    }).catch(err => {\n        dataStore.setGeneralAlert(\n            locStr(\"Failed to update a step: \" + err.message),\n        );\n        dataStore.setInfoSaving(code, false);\n        return false;\n    });\n\n    if (!response.steps) {\n        dataStore.setGeneralAlert(\n            locStr(\n                \"Error loading data from server: Steps not found in response.\",\n            ),\n        );\n        dataStore.setInfoSaving(code, false);\n\n        return false;\n    }\n\n    return await reloadAllSteps(response.steps);\n}\n\nexport async function deleteState(code: string) {\n    const response = await __makePostRequest(\n        \"/steps/\" + code + \"/delete\",\n        {},\n    ).catch(err => {\n        dataStore.setGeneralAlert(\n            locStr(\"Failed to delete a step: \" + err.message),\n        );\n\n        return false;\n    });\n\n    if (!response.steps) {\n        console.log(\"No steps in response\");\n        return false;\n    }\n\n    return await reloadAllSteps(response.steps);\n}\n\nexport async function reOrderState(code: string, order: \"up\" | \"down\") {\n    dataStore.updateOrder(code, order);\n    __makePostRequest(\"/steps/\" + code + \"/move\" + order, {}).catch(err => {\n        getAllStates();\n        dataStore.setGeneralAlert(\n            locStr(\n                \"Error while fetching data during steps reordering: \" +\n                    err.message,\n            ),\n        );\n        return;\n    });\n    return;\n}\n\nexport async function loadTemplate(code: string): Promise<boolean> {\n    const response = await __makeGetRequest(`/templates/${code}`).catch(err => {\n        dataStore.setGeneralAlert(\n            locStr(\n                \"Error while fetching data for email templates: \" + err.message,\n            ),\n        );\n        return false;\n    });\n\n    if (!response) {\n        //TODO More error handling?\n        return false;\n    }\n\n    if (\"template\" in response && code in response.template) {\n        const template = response.template[code];\n        dataStore.updateOrInsertEmailTemplate(\n            code,\n            template.template,\n            template.addresses,\n            template.mainAddresses,\n            true,\n        );\n    } else {\n        dataStore.markTemplateAsLoaded(code);\n    }\n\n    return true;\n}\n\nexport async function updateTemplate(\n    code: string,\n    templateText: string,\n    emails: string[],\n    mainEmails: string[],\n) {\n    const templateParams: TemplateRequest = {\n        code,\n        templateText,\n        emails,\n        primaryEmails: mainEmails,\n    };\n\n    dataStore.setTemplateSaving(code, true);\n\n    const response = await __makePostRequest(\n        \"/templates/\" + code,\n        templateParams,\n    ).catch(err => {\n        dataStore.setGeneralAlert(\n            locStr(\"Failed to update an email template: \" + err.message),\n        );\n        dataStore.setTemplateSaving(code, false);\n        return false;\n    });\n\n    if (response) {\n        await dataStore.updateOrInsertEmailTemplate(\n            code,\n            templateText,\n            emails,\n            mainEmails,\n            true,\n        );\n    }\n\n    dataStore.setTemplateSaving(code, false);\n    return false;\n}\n\nexport async function updateOptions(params: Parameter[]) {\n    const storableData = params.map(option => {\n        return {\n            key: option.label,\n            value: option.value,\n        };\n    });\n    const response = await __makePostRequest(\"/options\", {\n        options: storableData,\n    }).catch(err => {\n        dataStore.setGeneralAlert(\n            locStr(\"Failed to store options:\") + \" \" + err.message,\n        );\n        return false;\n    });\n\n    if (!response.options) {\n        dataStore.setGeneralAlert(\n            locStr(\"No options in response while updating options\"),\n        );\n    } else {\n        _processOptionsResponseToStore(response.options);\n    }\n    dataStore.setGeneralMessage(locStr(\"Changes to parameters applied\"));\n}\n\nexport function clearGeneralMessage() {\n    dataStore.clearGeneralMessage();\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-sheet',{attrs:{\"background-color\":\"transparent\",\"color\":\"basil\",\"elevation\":\"0\"}},[_c('v-container',{attrs:{\"pa-0\":\"\"}},[_c('v-row',{attrs:{\"justify\":\"space-around\",\"no-gutters\":\"\"}},[_c('v-col',[_c('v-card',[_c('v-card-title',[_vm._v(\" \"+_vm._s(_vm.locStr( \"Define steps in Your contact management process\" ))+\" \")]),_c('v-card-text',[_c('div',{staticClass:\"font-weight-bold ml-8 mb-2\"},[_vm._v(\" \"+_vm._s(_vm.locStr(\"Steps\"))+\" \")]),_c('v-timeline',{attrs:{\"align-top\":\"\",\"dense\":\"\"}},[_vm._l((_vm.states),function(state){return _c('v-timeline-item',{key:state.order,attrs:{\"small\":\"\"}},[_c('v-card',{staticClass:\"steps-background\"},[_c('v-card-title',{staticClass:\"pl-5\"},[_vm._v(\" \"+_vm._s(state.order + \". \" + state.state)+\" \")]),_c('v-card-text',[_c('MangoFpEditStepDetails',{attrs:{\"state\":state}})],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.openDeleteConfirm(\n                                                    state.code\n                                                )}}},[_vm._v(\" \"+_vm._s(_vm.locStr(\"Delete\"))+\" \")]),_c('div',{staticClass:\"reordering\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.locStr(\"Reorder\"))+\" \")]),_c('v-btn',{staticClass:\"ml-2 pa-0\",attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.orderStepUp(state.code)}}},[_vm._v(\" \"+_vm._s(_vm.locStr(\"Up\")))]),_c('v-btn',{staticClass:\"ml-2 pa-0\",attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.orderStepDown(\n                                                        state.code\n                                                    )}}},[_vm._v(\" \"+_vm._s(_vm.locStr(\"Down\")))])],1)],1)],1)],1)}),(_vm.newStepModifyOpen)?_c('v-timeline-item',[_c('MangoFpEditStep',{attrs:{\"code\":\"\",\"description\":\"\"},on:{\"close\":_vm.closeStepEdit,\"add\":_vm.addStepEdit}})],1):_vm._e()],2)],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"black\",\"text\":\"\"},on:{\"click\":_vm.openStepAdd}},[_vm._v(\" \"+_vm._s(_vm.locStr(\"Add state\"))+\" \")])],1)],1)],1)],1)],1),_c('v-dialog',{attrs:{\"width\":\"290\",\"retain-focus\":false,\"overlay-opacity\":0.2},model:{value:(_vm.delDialogOpen),callback:function ($$v) {_vm.delDialogOpen=$$v},expression:\"delDialogOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" \"+_vm._s(_vm.locStr(\"Are you sure?\"))+\" \")]),_c('v-card-text',[_vm._v(\" \"+_vm._s(_vm.locStr( \"Are you sure that you want to delete step \" + _vm.delConfirmCode ))+\" \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){return _vm.closeDialogConfirm()}}},[_vm._v(\" \"+_vm._s(_vm.locStr(\"Cancel\"))+\" \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){return _vm.deleteStep()}}},[_vm._v(\" \"+_vm._s(_vm.locStr(\"Confirm\"))+\" \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{attrs:{\"dark\":\"\",\"color\":\"#f1f1f1\"}},[_c('v-card-text',{staticClass:\"pb-0\"},[_c('v-text-field',{staticClass:\"input-on-card\",attrs:{\"light\":\"\",\"hint\":_vm.locStr(\n                        'Action - What should be done to achieve result of this step'\n                    ),\"solo\":\"\",\"dense\":\"\",\"label\":_vm.locStr('Action')},model:{value:(_vm.action4Edit),callback:function ($$v) {_vm.action4Edit=$$v},expression:\"action4Edit\"}}),_c('v-text-field',{ref:\"stateField\",staticClass:\"input-on-card\",attrs:{\"light\":\"\",\"hint\":_vm.locStr('Step - What is achieved in this step'),\"solo\":\"\",\"dense\":\"\",\"label\":_vm.locStr('Description')},model:{value:(_vm.state4Edit),callback:function ($$v) {_vm.state4Edit=$$v},expression:\"state4Edit\"}})],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"light\":\"\",\"text\":\"\"},on:{\"click\":_vm.saveData}},[_vm._v(\" \"+_vm._s(_vm.locStr(\"Save\"))+\" \")]),_c('v-btn',{attrs:{\"light\":\"\",\"text\":\"\"},on:{\"click\":_vm.cancelSaving}},[_vm._v(\" \"+_vm._s(_vm.locStr(\"Cancel\"))+\" \")])],1)],1),_c('v-overlay',{attrs:{\"value\":_vm.showLoader,\"absolute\":_vm.absolute}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { locStr } from \"@/utilities\";\nexport default Vue.extend({\n    name: \"MangoFpEditStep\",\n    props: {\n        code: {\n            type: String,\n        },\n        action: {\n            type: String,\n        },\n        state: {\n            type: String,\n        },\n        showLoader: {\n            type: Boolean,\n        },\n    },\n    data() {\n        return {\n            code4Edit: this.code || \"\",\n            action4Edit: this.action || \"\",\n            state4Edit: this.state || \"\",\n            absolute: true,\n        };\n    },\n    mounted() {\n        let focusedEdit = this.$refs.stateField as HTMLInputElement;\n        if (!this.code) {\n            focusedEdit = this.$refs.codeField as HTMLInputElement;\n        }\n\n        if (focusedEdit) {\n            focusedEdit.focus();\n        }\n    },\n    methods: {\n        locStr: function(key: string): string {\n            return locStr(key);\n        },\n        saveData() {\n            this.$emit(\"add\", {\n                code: this.code4Edit.toUpperCase(),\n                action: this.action4Edit,\n                state: this.state4Edit,\n            });\n        },\n        cancelSaving() {\n            this.code4Edit = this.code;\n            this.action4Edit = this.action;\n            this.state4Edit = this.state;\n            this.$emit(\"close\");\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpEditStep.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpEditStep.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MangoFpEditStep.vue?vue&type=template&id=3a3b5285&\"\nimport script from \"./MangoFpEditStep.vue?vue&type=script&lang=ts&\"\nexport * from \"./MangoFpEditStep.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MangoFpEditStep.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VOverlay,VProgressCircular,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panels',{attrs:{\"accordion\":\"\"}},[_c('v-expansion-panel',{ref:\"infoPanel\"},[_c('v-expansion-panel-header',[_c('div',{staticClass:\"step-panel-header\"},[_vm._v(\" \"+_vm._s(_vm.state.order)+\". \"+_vm._s(_vm.locStr(\"Step\" + \": \") + _vm.state.state)+\" \")])]),_c('v-expansion-panel-content',[_c('MangoFpEditStep',{attrs:{\"code\":_vm.state.code,\"action\":_vm.state.action,\"state\":_vm.state.state,\"showLoader\":_vm.state.savingInfo},on:{\"close\":_vm.closeInfoPane,\"add\":_vm.updateInfoEdit}})],1)],1),_c('v-expansion-panel',{ref:\"nextStepsPanel\"},[_c('v-expansion-panel-header',[_c('div',{staticClass:\"step-panel-header\"},[_vm._v(_vm._s(_vm.locStr(\"Next steps\"))+\":\")]),_c('div',{staticClass:\"next-state-header-blrplt\"},[_vm._v(\" \"+_vm._s(_vm.nextStepsNames(_vm.state.next))+\" \")])]),_c('v-expansion-panel-content',[_c('MangoFpEditProcess',{attrs:{\"state\":_vm.state,\"allStates\":_vm.possibleNextStates(_vm.state.code),\"saveInProgress\":_vm.saveInProgress,\"showLoader\":_vm.state.savingInfo},on:{\"close\":_vm.closeStepsPane,\"add\":_vm.saveStepsData}})],1)],1),_c('v-expansion-panel',{ref:\"templatePanel\"},[_c('v-expansion-panel-header',[_c('strong',[_vm._v(\" \"+_vm._s(_vm.locStr(\"Email template\")))])]),_c('v-expansion-panel-content',[_c('MangoFpEditEmailTemplate',{attrs:{\"code\":_vm.state.code,\"addresses\":_vm.template.addresses,\"mainAddresses\":_vm.template.mainAddresses,\"templateText\":_vm.template.template,\"loaded\":_vm.template.loaded,\"showLoader\":_vm.state.savingTemplate,\"state\":_vm.state},on:{\"updateTemplate\":_vm.saveTemplate,\"close\":_vm.closeTemplatePane}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{staticClass:\"pa-0\",attrs:{\"flat\":\"\"}},[_c('v-card-text',{staticClass:\"next-steps pa-0\"},_vm._l((_vm.allStates),function(elem){return _c('v-switch',{key:elem.value,staticClass:\"col-md-6 pa-0 mt-1\",attrs:{\"inset\":\"\",\"label\":elem.text,\"value\":elem.value},model:{value:(_vm.next4Edit),callback:function ($$v) {_vm.next4Edit=$$v},expression:\"next4Edit\"}})}),1),_c('v-card-actions',{staticClass:\"pl-0\",attrs:{\"color\":\"\"}},[_c('v-btn',{attrs:{\"outlined\":\"\",\"text\":\"\"},on:{\"click\":_vm.saveData}},[_vm._v(\" \"+_vm._s(_vm.locStr(\"Confirm\"))+\" \")]),_c('v-btn',{attrs:{\"outlined\":\"\",\"text\":\"\"},on:{\"click\":_vm.cancelSaving}},[_vm._v(\" \"+_vm._s(_vm.locStr(\"Cancel\"))+\" \")])],1)],1),_c('v-overlay',{attrs:{\"value\":_vm.showLoader,\"absolute\":_vm.absolute}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { locStr } from \"@/utilities\";\nexport default Vue.extend({\n    name: \"MangoFpEditProcess\",\n    props: {\n        state: {\n            type: Object,\n            required: true,\n        },\n\n        allStates: {\n            type: Array,\n            required: true,\n        },\n        showLoader: {\n            type: Boolean,\n        },\n    },\n    data() {\n        return {\n            next4Edit: [...this.state.next],\n            absolute: true,\n        };\n    },\n    methods: {\n        locStr: function(key: string): string {\n            return locStr(key);\n        },\n        saveData() {\n            this.$emit(\"add\", {\n                code: this.state.code,\n                next: this.next4Edit,\n            });\n        },\n        cancelSaving() {\n            this.next4Edit = [...this.state.next];\n            this.$emit(\"close\");\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpEditProcess.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpEditProcess.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MangoFpEditProcess.vue?vue&type=template&id=4ec2c949&\"\nimport script from \"./MangoFpEditProcess.vue?vue&type=script&lang=ts&\"\nexport * from \"./MangoFpEditProcess.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MangoFpEditProcess.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VOverlay,VProgressCircular,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.loaded)?_c('v-card',{staticClass:\"pa-0\",attrs:{\"flat\":\"\"}},[_c('v-card-text',[_c('v-text-field',{staticClass:\"step-text-field\",attrs:{\"solo\":\"\",\"label\":_vm.locStr('Primary addresses'),\"hint\":_vm.locStr(\n                        'Primary addresses for emails. [contactEmail] - is an email on submitted form'\n                    ),\"error\":!_vm.mainAddressesAreValid,\"error-messages\":_vm.mainAddressesValidationError},model:{value:(_vm.mainAddressesAsString),callback:function ($$v) {_vm.mainAddressesAsString=$$v},expression:\"mainAddressesAsString\"}}),_c('v-text-field',{staticClass:\"step-text-field\",attrs:{\"solo\":\"\",\"label\":_vm.locStr('CC Addresses'),\"hint\":_vm.locStr('CC addresses for archiving options'),\"error\":!_vm.addressesAreValid,\"error-messages\":_vm.addressesValidationError},model:{value:(_vm.addressesAsString),callback:function ($$v) {_vm.addressesAsString=$$v},expression:\"addressesAsString\"}}),_c('vue-editor',{staticClass:\"emailEditor\",attrs:{\"editorToolbar\":_vm.editorToolbar},model:{value:(_vm.email4Edit),callback:function ($$v) {_vm.email4Edit=$$v},expression:\"email4Edit\"}})],1),_c('v-card-actions',{staticClass:\"pl-0\",attrs:{\"color\":\"\"}},[_c('v-btn',{attrs:{\"outlined\":\"\",\"text\":\"\"},on:{\"click\":_vm.saveTemplate}},[_vm._v(\" \"+_vm._s(_vm.locStr(\"Confirm\"))+\" \")]),_c('v-btn',{attrs:{\"outlined\":\"\",\"text\":\"\"},on:{\"click\":_vm.cancelTemplate}},[_vm._v(\" \"+_vm._s(_vm.locStr(\"Cancel\"))+\" \")])],1)],1):_vm._e(),_c('v-overlay',{attrs:{\"value\":_vm.showLoader,\"absolute\":_vm.absolute}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { locStr, validateEmail } from \"@/utilities\";\nimport { loadTemplate } from \"@/actions\";\nimport { VueEditor } from \"vue2-editor\";\n\nexport default Vue.extend({\n    name: \"MangoFpEditEmailTemplate\",\n    components: {\n        VueEditor,\n    },\n    props: {\n        code: {\n            type: String,\n        },\n        addresses: {\n            type: Array,\n        } as Vue.PropOptions<string[]>,\n        mainAddresses: {\n            type: Array,\n        } as Vue.PropOptions<string[]>,\n        templateText: {\n            type: String,\n        },\n        loaded: {\n            type: Boolean,\n        },\n        showLoader: {\n            type: Boolean,\n        },\n        state: {\n            type: Object,\n        },\n    },\n    data() {\n        return {\n            email4Edit: \"\",\n            addressesAsString: \"\",\n            mainAddressesAsString: \"\",\n            addressesAreValid: true,\n            addressesValidationError: \"\",\n            mainAddressesAreValid: true,\n            mainAddressesValidationError: \"\",\n            absolute: true,\n            editorToolbar: [\n                [{ header: [false, 1, 2, 3, 4, 5, 6] }],\n                [\"bold\", \"italic\", \"underline\", \"strike\"], // toggled buttons\n                [\n                    { align: \"\" },\n                    { align: \"center\" },\n                    { align: \"right\" },\n                    { align: \"justify\" },\n                ],\n                [{ list: \"ordered\" }, { list: \"bullet\" }, { list: \"check\" }],\n                [{ indent: \"-1\" }, { indent: \"+1\" }], // outdent/indent\n                [{ color: [] }, { background: [] }], // dropdown with defaults from theme\n                [\"link\"],\n                [\"clean\"], // remove formatting butto\n            ],\n        };\n    },\n    mounted() {\n        console.log(\"MangoFpEditTemplate mounted. Code: \" + this.code);\n        this.addressesAsString = this.getAddressesAsString(this.addresses);\n        this.mainAddressesAsString = this.getAddressesAsString(\n            this.mainAddresses,\n        );\n        loadTemplate(this.code);\n    },\n    watch: {\n        addresses: function() {\n            this.addressesAsString = this.getAddressesAsString(this.addresses);\n        },\n        mainAddresses: function() {\n            this.mainAddressesAsString = this.getAddressesAsString(\n                this.mainAddresses,\n            );\n        },\n        templateText: function() {\n            this.email4Edit = this.templateText;\n        },\n    },\n    methods: {\n        locStr: function(key: string): string {\n            return locStr(key);\n        },\n\n        getAddressesAsString: function(addresses: string[]): string {\n            return addresses.join(\"; \") as string;\n        },\n\n        stringAsAddresses: function(addressesString: string): string[] {\n            return addressesString.split(\";\").map((e: string) => e.trim());\n        },\n\n        resetErrors() {\n            this.addressesAreValid = true;\n            this.mainAddressesAreValid = true;\n            this.addressesValidationError = \"\";\n            this.mainAddressesValidationError = \"\";\n            return true;\n        },\n\n        validateAndGetEmailAddresses(addresses: string[]): string[] {\n            const specials = [\"[contactEmail]\"];\n            const emails = addresses.map((elem: string) => {\n                const email = elem.trim();\n                if (!email) {\n                    return \"\";\n                }\n\n                if (specials.includes(email)) {\n                    return email;\n                }\n\n                if (!validateEmail(email)) {\n                    throw new Error(\n                        email + \" \" + this.locStr(\"is not proper email\"),\n                    );\n                }\n                return email;\n            });\n            return emails.filter((elem: string) => elem);\n        },\n        saveTemplate() {\n            this.resetErrors();\n\n            let addresses4Edit: string[] = this.stringAsAddresses(\n                this.addressesAsString,\n            );\n            let mainAddresses4Edit: string[] = this.stringAsAddresses(\n                this.mainAddressesAsString,\n            );\n\n            try {\n                mainAddresses4Edit = this.validateAndGetEmailAddresses(\n                    mainAddresses4Edit,\n                );\n            } catch (err) {\n                this.mainAddressesAreValid = false;\n                this.mainAddressesValidationError = err.message;\n                return false;\n            }\n            try {\n                addresses4Edit = this.validateAndGetEmailAddresses(\n                    addresses4Edit,\n                );\n            } catch (err) {\n                this.addressesAreValid = false;\n                this.addressesValidationError = err.message;\n                return false;\n            }\n\n            this.$emit(\"updateTemplate\", {\n                code: this.code,\n                addresses: addresses4Edit,\n                mainAddresses: mainAddresses4Edit,\n                templateText: this.email4Edit,\n            });\n        },\n        cancelTemplate() {\n            this.addressesAsString = this.getAddressesAsString(this.addresses);\n            this.mainAddressesAsString = this.getAddressesAsString(\n                this.mainAddresses,\n            );\n            this.email4Edit = this.templateText;\n            this.resetErrors();\n            this.$emit(\"close\");\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpEditEmailTemplate.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpEditEmailTemplate.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MangoFpEditEmailTemplate.vue?vue&type=template&id=b0516b28&\"\nimport script from \"./MangoFpEditEmailTemplate.vue?vue&type=script&lang=ts&\"\nexport * from \"./MangoFpEditEmailTemplate.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MangoFpEditEmailTemplate.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VOverlay,VProgressCircular,VTextField})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { StateData, NextState } from \"@/types\";\nimport { locStr } from \"@/utilities\";\nimport { VExpansionPanel } from \"vuetify/lib\";\nimport MangoFpEditProcess from \"./MangoFpEditProcess.vue\";\nimport MangoFpEditStep from \"./MangoFpEditStep.vue\";\nimport MangoFpEditEmailTemplate from \"./MangoFpEditEmailTemplate.vue\";\nimport { dataStore } from \"@/main\";\nimport * as Actions from \"@/actions\";\n\n//Define type that covers functions used for references VExpansionPanel (so that any can be avoided)\ninterface ExpansionPanelType extends InstanceType<typeof VExpansionPanel> {\n    toggle: Function;\n}\n\n/*\nWould it be better to avoid typecasting when selecting ref-s and instead extend refs when creating Vue object:\nInstead of object Vue you can extend following object: '(Vue as VueConstructor<\n    Vue & {\n        $refs: {\n            nextStepsPanel: ExpansionPanelType;\n        };\n    }\n>)'\n\n*/\n\nexport default Vue.extend({\n    name: \"MangoFpEditStepDetails\",\n    components: {\n        MangoFpEditProcess,\n        MangoFpEditStep,\n        MangoFpEditEmailTemplate,\n    },\n    props: {\n        state: {\n            type: Object,\n            required: true,\n        } as Vue.PropOptions<StateData>,\n    },\n    data() {\n        const states: StateData[] = dataStore.getStateList();\n        const template = this.state.template;\n        return {\n            states,\n            template,\n            saveInProgress: false,\n            tempShow: false,\n        };\n    },\n    methods: {\n        locStr: function(key: string): string {\n            return locStr(key);\n        },\n        possibleNextStates(paramCode: string): NextState[] {\n            const next: NextState[] = [];\n            const loadedStates: StateData[] = this.states;\n            loadedStates.forEach((state: StateData) => {\n                if (state.code !== paramCode) {\n                    next.push({ value: state.code, text: state.state });\n                }\n            });\n            return next;\n        },\n\n        nextStepsNames(stepCodes: string[]): string {\n            const next: string[] = [];\n            const loadedStates: StateData[] = this.states;\n            loadedStates.forEach((state: StateData) => {\n                if (stepCodes.includes(state.code)) {\n                    next.push(state.state);\n                }\n            });\n            if (next.length < 1) {\n                return \"<\" + locStr(\"none\") + \">\";\n            }\n\n            return \"\" + next.join(\", \");\n        },\n        async saveStepsData(payload: { code: string; next: string[] }) {\n            Actions.updateState(\n                payload.code,\n                undefined,\n                undefined,\n                payload.next,\n            );\n        },\n        closeStepsPane() {\n            this.states = dataStore.getStateList();\n            const thePanel = this.$refs.nextStepsPanel as ExpansionPanelType;\n            thePanel.toggle();\n        },\n\n        closeTemplatePane() {\n            const thePanel = this.$refs.templatePanel as ExpansionPanelType;\n            thePanel.toggle();\n        },\n        closeInfoPane() {\n            const thePanel = this.$refs.infoPanel as ExpansionPanelType;\n            thePanel.toggle();\n        },\n\n        async saveTemplate(payload: {\n            code: string;\n            addresses: string[];\n            mainAddresses: string[];\n            templateText: string;\n        }) {\n            Actions.updateTemplate(\n                this.state.code,\n                payload.templateText,\n                payload.addresses,\n                payload.mainAddresses,\n            );\n            this.closeTemplatePane();\n        },\n        async validateAndGetEmailAddresses(\n            addresses: string[],\n        ): Promise<string[]> {\n            const specials = [\"[contactEmail]\"];\n            const emails = addresses.map((elem: string) => {\n                const email = elem.trim();\n                if (!email) {\n                    return \"\";\n                }\n\n                if (specials.includes(email)) {\n                    return email;\n                }\n\n                const RegValidate = /([a-zA-Z0-9+._-]+@[a-zA-Z0-9._-]+\\.[a-zA-Z0-9_-]+)/;\n                if (!RegValidate.test(email)) {\n                    throw new Error(\n                        email + \" \" + this.locStr(\"is not proper email\"),\n                    );\n                }\n                return email;\n            });\n            return emails.filter((elem: string) => elem);\n        },\n        async updateInfoEdit(param: {\n            code: string;\n            action: string;\n            state: string;\n        }) {\n            Actions.updateState(\n                param.code,\n                param.action,\n                param.state,\n                undefined,\n            );\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpEditStepDetails.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpEditStepDetails.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MangoFpEditStepDetails.vue?vue&type=template&id=9b95044e&\"\nimport script from \"./MangoFpEditStepDetails.vue?vue&type=script&lang=ts&\"\nexport * from \"./MangoFpEditStepDetails.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MangoFpEditStepDetails.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { StateData } from \"@/types\";\nimport { locStr } from \"@/utilities\";\nimport MangoFpEditStep from \"./MangoFpEditStep.vue\";\nimport MangoFpEditStepDetails from \"./MangoFpEditStepDetails.vue\";\nimport * as Actions from \"@/actions\";\nimport { dataStore } from \"@/main\";\n\nexport default Vue.extend({\n    name: \"MangoFpProcessSteps\",\n    components: {\n        MangoFpEditStep,\n        MangoFpEditStepDetails,\n    },\n    data() {\n        return {\n            newStepModifyOpen: false,\n            delDialogOpen: false,\n            delConfirmCode: \"\",\n            states: dataStore.state.stateList as StateData[],\n        };\n    },\n    methods: {\n        locStr: function(key: string): string {\n            return locStr(key);\n        },\n        closeStepEdit: function() {\n            this.newStepModifyOpen = false;\n        },\n        openStepAdd: function() {\n            this.newStepModifyOpen = true;\n        },\n        addStepEdit: async function(param: {\n            code: string;\n            action: string;\n            state: string;\n        }) {\n            const isItDone = await Actions.addNewState(\n                param.action,\n                param.state,\n            );\n            if (isItDone) {\n                this.closeStepEdit();\n            }\n        },\n        openDeleteConfirm(code: string) {\n            this.delConfirmCode = code;\n            this.delDialogOpen = true;\n        },\n        closeDialogConfirm() {\n            this.delConfirmCode = \"\";\n            this.delDialogOpen = false;\n        },\n        deleteStep: async function() {\n            console.log(\"delete code: \" + this.delConfirmCode);\n            const isItDone = await Actions.deleteState(this.delConfirmCode);\n            if (!isItDone) {\n                console.log(\"Deleteing step failed\");\n                return false;\n            }\n            this.closeDialogConfirm();\n            return true;\n        },\n        orderStepUp: async function(code: string) {\n            console.log(\"Order up\");\n            return Actions.reOrderState(code, \"up\");\n        },\n        orderStepDown: async function(code: string) {\n            console.log(\"Order down\");\n            return Actions.reOrderState(code, \"down\");\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpProcessSteps.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpProcessSteps.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MangoFpProcessSteps.vue?vue&type=template&id=38b1c226&\"\nimport script from \"./MangoFpProcessSteps.vue?vue&type=script&lang=ts&\"\nexport * from \"./MangoFpProcessSteps.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MangoFpProcessSteps.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTimeline } from 'vuetify/lib/components/VTimeline';\nimport { VTimelineItem } from 'vuetify/lib/components/VTimeline';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VContainer,VDialog,VRow,VSheet,VSpacer,VTimeline,VTimelineItem})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-sheet',{attrs:{\"background-color\":\"transparent\",\"color\":\"basil\",\"elevation\":\"0\"}},[_c('v-container',{staticClass:\"pa-0\"},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('v-card',{staticClass:\"pl-5 pb-5\"},[_c('v-card-title',[_vm._v(\" \"+_vm._s(_vm.locStr(\"General parameters\"))+\" \")]),_c('v-card-text'),_vm._l((_vm.data4Edit),function(param){return _c('v-row',{key:param.label,staticClass:\"pa-6\"},[_c('v-col',{attrs:{\"cols\":\"3\",\"sm\":\"2\"}},[_c('h3',[_vm._v(\" \"+_vm._s(param.name)+\" \")])]),_c('v-col',{attrs:{\"cols\":\"8\",\"sm\":\"7\",\"md\":\"5\",\"lg\":\"4\"}},[(param.type == 'TEXT')?_c('v-text-field',{staticClass:\"input-on-card\",attrs:{\"light\":\"\",\"solo\":\"\",\"dense\":\"\"},on:{\"focus\":_vm.onFocus},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}}):(param.type == 'EMAIL')?_c('v-text-field',{staticClass:\"input-on-card\",attrs:{\"light\":\"\",\"solo\":\"\",\"dense\":\"\",\"error\":!!param.errorMsg,\"error-messages\":param.errorMsg},on:{\"blur\":function($event){return _vm.validateEmailElem(param)},\"focus\":function($event){return _vm.clearEmailElemErrorMsg(param)}},model:{value:(param.value),callback:function ($$v) {_vm.$set(param, \"value\", $$v)},expression:\"param.value\"}}):_c('div',[_vm._v(\" \"+_vm._s(_vm.locStr(\"Unknown field type: \") + param.type)+\" \")]),_c('div',{domProps:{\"innerHTML\":_vm._s(param.hint)}})],1)],1)}),_c('v-card-actions',[_c('v-btn',{attrs:{\"outlined\":\"\",\"text\":\"\",\"disabled\":_vm.confirmDisabled},on:{\"click\":_vm.saveParameters}},[_vm._v(\" \"+_vm._s(_vm.locStr(\"Confirm\"))+\" \")])],1)],2)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Parameter } from \"@/types\";\nimport { locStr, validateEmail } from \"@/utilities\";\nimport * as Actions from \"@/actions\";\nimport { dataStore } from \"@/main\";\n\nexport default Vue.extend({\n    name: \"MangoFpParameters\",\n    components: {},\n    data() {\n        return {\n            data4Edit: [] as Parameter[],\n            parameters: dataStore.state.parameters,\n            confirmDisabled: true,\n        };\n    },\n    async mounted() {\n        this.confirmDisabled = true;\n        await Actions.getAllOptions();\n        this.confirmDisabled = false;\n    },\n    watch: {\n        parameters() {\n            for (let i = 0; i < this.parameters.length; i++) {\n                this.data4Edit.splice(i, 1, { ...this.parameters[i] });\n            }\n        },\n    },\n    methods: {\n        locStr: function(key: string): string {\n            return locStr(key);\n        },\n\n        getNewParam4Edit() {\n            return {\n                value: \"\",\n                type: \"string\",\n                name: \"\",\n            };\n        },\n\n        async saveParameters() {\n            const notValidParam = this.data4Edit.find(elem => elem.errorMsg);\n            if (notValidParam) {\n                return false;\n            }\n\n            const changedParams = this.data4Edit.filter((param, i) => {\n                return param.value !== this.parameters[i].value;\n            });\n\n            if (changedParams.length) {\n                this.confirmDisabled = true;\n                await Actions.updateOptions(changedParams);\n                this.confirmDisabled = false;\n            }\n        },\n\n        onFocus() {\n            Actions.clearGeneralMessage();\n        },\n        validateEmailElem(emailParam: Parameter) {\n            if (!validateEmail(emailParam.value)) {\n                emailParam.errorMsg = locStr(\"Email format is not correct\");\n                return;\n            }\n            emailParam.errorMsg = \"\";\n        },\n        clearEmailElemErrorMsg(emailParam: Parameter) {\n            this.onFocus();\n            emailParam.errorMsg = \"\";\n        },\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpParameters.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpParameters.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MangoFpParameters.vue?vue&type=template&id=268ee232&\"\nimport script from \"./MangoFpParameters.vue?vue&type=script&lang=ts&\"\nexport * from \"./MangoFpParameters.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MangoFpParameters.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VContainer,VRow,VSheet,VTextField})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { getAllStates } from \"@/actions\";\nimport { locStr } from \"@/utilities\";\nimport { dataStore } from \"@/main\";\nimport * as Actions from \"@/actions\";\nimport MangoFpProcessSteps from \"./MangoFpProcessSteps.vue\";\nimport MangoFpParameters from \"./MangoFpParameters.vue\";\n\nexport default Vue.extend({\n    name: \"MangoFpSettingsMain\",\n    components: {\n        MangoFpProcessSteps,\n        MangoFpParameters,\n    },\n    data() {\n        return {\n            loading: true,\n            globalState: dataStore,\n            timeout: 3000,\n        };\n    },\n    methods: {\n        locStr(key: string): string {\n            return locStr(key);\n        },\n        doOnChange() {\n            Actions.clearGeneralMessage();\n        },\n    },\n    async mounted() {\n        const loaded = await getAllStates();\n        this.loading = !loaded;\n    },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpSettingsMain.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpSettingsMain.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MangoFpSettingsMain.vue?vue&type=template&id=d5f1b8e4&fill-height=true&pa-0=true&ma-0=true&\"\nimport script from \"./MangoFpSettingsMain.vue?vue&type=script&lang=ts&\"\nexport * from \"./MangoFpSettingsMain.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MangoFpSettingsMain.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VAlert,VBtn,VCol,VContainer,VIcon,VProgressCircular,VRow,VSnackbar,VTab,VTabItem,VTabs})\n","<template>\n    <div id=\"app\">\n        <v-app class=\"main\">\n            <v-main>\n                <v-container fluid class=\"pa-0\">\n                    <MangoFpSettingsMain />\n                </v-container>\n            </v-main>\n        </v-app>\n    </div>\n</template>\n<script>\nimport MangoFpSettingsMain from \"./components/MangoFpSettingsMain\";\nexport default {\n    name: \"App\",\n    components: {\n        MangoFpSettingsMain,\n    },\n};\n</script>\n<style src=\"@/styles/global.css\"></style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=491f0f9d&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"@/styles/global.css?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VMain } from 'vuetify/lib/components/VMain';\ninstallComponents(component, {VApp,VContainer,VMain})\n","import Vue from \"vue\";\nimport Vuetify from \"vuetify\";\nimport \"vuetify/dist/vuetify.min.css\";\n\nVue.use(Vuetify);\n\nexport default new Vuetify({});\n","import {\n    StateData,\n    EmailTemplate,\n    makeTemplateObj,\n    Parameter,\n    ParameterType,\n} from \"@/types\";\n\nexport interface AllStateType {\n    stateList: StateData[];\n    parameters: Parameter[];\n}\n\nexport interface Alert {\n    showAlert: boolean;\n    alertMessage: string;\n}\n\nexport interface Type {\n    generalAlert: Alert;\n    generalMessage: Alert;\n    debug: boolean;\n    state: AllStateType;\n    resetState: Function;\n    addState: Function;\n    updateNextState: Function;\n    _findStep: Function;\n    _findOption: Function;\n    getAllState: Function;\n    getStateList: Function;\n    updateOrInsertEmailTemplate: Function;\n    markTemplateAsLoaded: Function;\n    updateOrInsertStateInfo: Function;\n    updateOrder: Function;\n    deleteState: Function;\n    setGeneralAlert: Function;\n    clearGeneralAlert: Function;\n    setGeneralMessage: Function;\n    clearGeneralMessage: Function;\n    setInfoSaving: Function;\n    setTemplateSaving: Function;\n    getParameters: Function;\n    setOption: Function;\n}\n\nexport function makeStore(debug: boolean): Type {\n    const stateList: StateData[] = [];\n    const parameters: Parameter[] = [];\n    return {\n        generalAlert: { showAlert: false, alertMessage: \"\" },\n        generalMessage: {\n            showAlert: false,\n            alertMessage: \"\",\n        },\n        debug,\n        state: { stateList, parameters },\n        resetState() {\n            this.state.stateList.splice(0, this.state.stateList.length);\n            this.clearGeneralAlert();\n        },\n        setGeneralAlert(errorMsg: string) {\n            this.generalAlert.showAlert = true;\n            this.generalAlert.alertMessage = errorMsg;\n        },\n        clearGeneralAlert() {\n            this.generalAlert.showAlert = false;\n            this.generalAlert.alertMessage = \"\";\n        },\n        setGeneralMessage(message: string) {\n            this.generalMessage.showAlert = true;\n            this.generalMessage.alertMessage = message;\n        },\n        clearGeneralMessage() {\n            this.generalMessage.showAlert = false;\n            this.generalMessage.alertMessage = \"\";\n        },\n        async addState(stateData: StateData): Promise<boolean> {\n            this.state.stateList.push({\n                ...stateData,\n                ...{\n                    savingInfo: false,\n                    savingSteps: false,\n                    savingTemplate: false,\n                },\n            });\n            return true;\n        },\n        async updateNextState(\n            code: string,\n            nextStates: string[],\n        ): Promise<boolean> {\n            if (debug) {\n                console.log(\n                    \"Will update next states of \" +\n                        code +\n                        \" to \" +\n                        nextStates.join(\", \"),\n                );\n            }\n            const step = this.state.stateList.find(obj => obj.code === code);\n            if (!step) {\n                console.log(\"Did not find step with code \" + code);\n                return false;\n            }\n            step.next = nextStates;\n            return true;\n        },\n\n        updateOrInsertEmailTemplate(\n            code: string,\n            emailTemplate: string,\n            addresses: string[],\n            mainAddresses: string[],\n            loaded = true,\n        ): EmailTemplate | boolean {\n            if (debug) {\n                console.log(\"Will update email template\");\n            }\n            const step = this.state.stateList.find(obj => obj.code === code);\n            if (!step) {\n                console.log(\"Did not find step with code \" + code);\n                //TODO set error state and message\n                return false;\n            }\n\n            const stepTemplate = step.template as EmailTemplate;\n            stepTemplate.addresses = addresses;\n            stepTemplate.mainAddresses = mainAddresses;\n            stepTemplate.template = emailTemplate;\n            stepTemplate.loaded = loaded;\n            return stepTemplate;\n        },\n\n        _findStep(code: string) {\n            const step = this.state.stateList.find(obj => obj.code === code);\n            if (!step) {\n                throw new Error(\"Step not found\");\n            }\n\n            return step;\n        },\n\n        _findOption(label: string): Parameter | boolean {\n            const option = this.state.parameters.find(\n                obj => obj.label === label,\n            );\n            if (!option) {\n                return false;\n            }\n\n            return option;\n        },\n\n        setOption(optionParam: {\n            label: string;\n            type: ParameterType;\n            name: string;\n            value: string;\n            hint: string;\n        }): boolean {\n            const optionRet = this._findOption(optionParam.label);\n            if (!optionRet) {\n                const option: Parameter = {\n                    label: optionParam.label,\n                    type: optionParam.type,\n                    name: optionParam.name,\n                    value: optionParam.value,\n                    hint: optionParam.hint || \"\",\n                    errorMsg: \"\",\n                };\n                this.state.parameters.push(option);\n            } else {\n                optionRet.value = optionParam.value;\n            }\n            return true;\n        },\n        markTemplateAsLoaded(code: string, loaded = true) {\n            const step = this._findStep(code);\n            step.template.loaded = loaded;\n            return true;\n        },\n\n        setInfoSaving(code: string, loaded = true) {\n            const step = this._findStep(code);\n            step.savingInfo = loaded;\n            return true;\n        },\n        setTemplateSaving(code: string, loaded = true) {\n            const step = this._findStep(code);\n            step.savingTemplate = loaded;\n            return true;\n        },\n\n        async updateOrInsertStateInfo(\n            code: string,\n            action: string,\n            state: string,\n        ): Promise<boolean> {\n            if (debug) {\n                console.log(`Will update state info`);\n            }\n            const step = this.state.stateList.find(obj => obj.code === code);\n            if (!step) {\n                console.log(\n                    \"Did not find step with code \" + code + \". Will add\",\n                );\n                const newStep: StateData = {\n                    order: this.state.stateList.length + 1,\n                    code,\n                    state,\n                    action,\n                    next: [],\n                    savingInfo: false,\n                    savingTemplate: false,\n                    template: makeTemplateObj(code),\n                };\n                return this.addState(newStep);\n            }\n            step.action = action;\n            step.state = state;\n            return true;\n        },\n\n        getAllState(): AllStateType {\n            return this.state;\n        },\n        getStateList(): StateData[] {\n            return this.state.stateList;\n        },\n\n        getParameters(): Parameter[] {\n            return this.state.parameters;\n        },\n\n        updateOrder(code: string, order: \"up\" | \"down\"): boolean {\n            const step = this.state.stateList.find(obj => obj.code === code);\n            if (!step) {\n                console.log(\"Did not find step with code \" + code);\n                return false;\n            }\n            if (step.order === 1 && order === \"up\") {\n                return true;\n            }\n\n            if (\n                step.order === this.state.stateList.length &&\n                order === \"down\"\n            ) {\n                return true;\n            }\n\n            let toSwapOrder = step.order - 1;\n            if (order === \"down\") {\n                toSwapOrder = step.order + 1;\n            }\n\n            const swapStep = this.state.stateList.find(\n                obj => obj.order === toSwapOrder,\n            );\n\n            if (!swapStep) {\n                console.log(`Unable to find element with order: ${swapStep}`);\n                return false;\n            }\n\n            swapStep.order = step.order;\n            step.order = toSwapOrder;\n\n            this.state.stateList[swapStep.order - 1] = swapStep;\n            this.state.stateList[step.order - 1] = step;\n            return true;\n        },\n\n        async deleteState(code: string): Promise<boolean> {\n            console.log(`Store deletes ${code}`);\n            return true;\n        },\n    };\n}\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport vuetify from \"@/plugins/vuetify\";\nimport * as Store from \"@/store\";\n\nVue.config.productionTip = false;\nexport const bus = new Vue();\nexport const dataStore: Store.Type = Store.makeStore(true);\n//export const dataStore = Vue.observable(dataStoreRaw);\n\nnew Vue({\n    vuetify,\n    render: h => h(App),\n}).$mount(\"#app\");\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpEditEmailTemplate.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpEditEmailTemplate.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpEditStep.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MangoFpEditStep.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./global.css?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./global.css?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}